<div class="container-fluid" id="midcontainer" ng-cloak>
    
    <div class="row">
        <div class="left_title col-lg-6 col-md-6">
            <strong>My Leased In Items</strong>
        </div>
	</div>
    
    <hr /><br /><br />
    
    <h4 ng-if="leases.length == 0">You have not leased any items from your friends. 
        <a href="index.html">See what they have in the Friends Store.</a>
    </h4>
    
    <div class="row" ng-repeat="lease in leases">
        <div class="col-lg-1 col-md-1"></div>
        <div class="card col-lg-10 col-md-10" style="box-shadow: 0 4px 4px rgba(0, 0, 0, 0.23);">
            <div class="row" style="display: flex;flex-wrap: wrap;">
                <div class="col-lg-4 col-md-4 col-sm-4" href="" ng-click="showItemDetails(lease.uid)">
                   <a class="image">
                      <img class="img-rounded" load-image="lease.primaryImageLink" ng-src="" alt="..."/>
                   </a>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2">
                   <div class="content">
                       <a class="card-link" href="" ng-click="showItemDetails(lease.uid)">
                          <h5 class="title">{{lease.title}}</h5>
                       </a>
                       <a class="card-link">
                          <p class="description">{{lease.description}}</p>
                       </a>
                       <a class="footer">
                          <div class="stats btn-tooltip" data-toggle="tooltip" data-placement="top" title="Category">
                              <div class="card-link">
                                  <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> {{lease.category}}
                              </div>
                          </div>
                          <div class="stats btn-tooltip" data-toggle="tooltip" data-placement="top" title="Lease Term">
                              <div class="card-link">
                                  <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{lease.leaseTerm}}
                              </div>
                          </div>
                          <div class="stats btn-tooltip" data-toggle="tooltip" data-placement="top" title="Resonable Replacement Value">
                              <div class="card-link">
                                  <span class="fa fa-rupee" aria-hidden="true"></span> {{lease.leaseValue}}
                              </div>
                          </div>
                           <br/>
                           <span class="label label-success label-fill btn-tooltip" data-toggle="tooltip" data-placement="top" title="{{lease.statusDesc}}" style="text-align:center;">{{lease.status}}</span>
                       </a>
                   </div>
               </div>
               <div class="col-lg-3 col-md-3 col-sm-3" style="text-align:center;border-left: thin solid #eee;border-right: thin solid #eee;">
                  <div class="content" style="text-align:center;">
                      <a class="card-link">
                        <span class="label label-default label-fill">Owner</span>
                      </a>
                      <br/>
                      <a class="card-link">
                          <img ng-src="{{(lease.ownerProfilePic === '' || lease.ownerProfilePic === null || lease.ownerProfilePic === NULL || lease.ownerProfilePic === 'null') ? 'images/user_icon.png' : lease.ownerProfilePic}}" alt="Profile Pic" style="width:50px;height:50px; padding:5px;" class="img-circle">
                      </a>
                      <a class="card-link">
                         <p class="description">{{lease.ownerFullName}}</p>
                      </a>
                      <a class="card-link">
                         <p class="description">{{lease.ownerSublocality}}</p>
                      </a>
                      <a class="card-link">
                         <p class="description">{{lease.ownerLocality}}</p>
                      </a>
                  </div>
               </div>
               <div class="col-lg-3 col-md-3 col-sm-3">
                   <div class="content" style="text-align:center;">
                       <a class="card-link">
                         <span class="label label-default label-fill">Expiry Date</span>
                       </a>
                       <br/>
                       <a class="card-link">
                           <p class="description">{{lease.leaseExpiryDate | date}}</p>
                       </a>
                       <a class="card-link" href="">
                           <button ng-if="lease.status != 'LeaseEnded'" class="btn btn-primary btn-simple" ng-click="closeLease(lease.itemId, lease.ownerUserId, lease.requestorUserId, $index)">Close</button>
                       </a><br/>
                       <a ng-if="lease.status=='LeaseReady' && lease.deliveryPlan=='FLS_NONE'" class="card-link" href="">
                           <button class="btn btn-primary btn-simple" ng-click="changeDeliveryPlan('FLS_SELF', $index)">Self Pickup</button>
                           <button class="btn btn-primary btn-simple" ng-click="changeDeliveryPlan('FLS_OPS', $index)">Prime Pickup</button>
                       </a>
                       <a ng-if="(lease.status=='LeaseReady'||lease.status=='LeaseEnded') && lease.deliveryPlan=='FLS_SELF'" class="card-link" href="">
                           Item Pick Up Status:<br/>{{(lease.leaseePickupStatus ? 'Picked Up' : 'Pending')}}
                           <form>
                               <switch id="enabled" name="enabled" ng-model="lease.leaseePickupStatus" ng-change="changePickupStatus(lease.leaseePickupStatus, $index)" class="green"></switch>
                           </form>
                       </a>
                       <form id="agreement" ng-if="lease.status=='LeaseStarted'" action="GetLeaseAgreement" method="POST" target="_blank">
                           <input type="hidden" name="leaseId" value="{{lease.leaseId}}" />
                           <input type="submit" class="btn btn-primary btn-simple" value="Get Agreement" />
                       </form>
                   </div>
               </div>
            </div>
        </div>
        <div class="col-lg-1 col-md-1"></div>
    </div>
</div>
