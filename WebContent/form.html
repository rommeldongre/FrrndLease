<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>AdminOps Service Page</title>
<script type="text/javascript" src="js/jquery-1.7.min.js"></script>
<script type="text/javascript">
	var Id = 0;
	var Title = null;
	var Description = null;
	var Quantity = 0;
	var Token = 0;
	
	getData = function() {
		//alert("Inside get Data");
		Title = document.getElementById("title").value;
		if(Title === '') Title = null;
		
		Id = document.getElementById("id").value;
		if(Id === '') Id = 0;
		
		Description = document.getElementById("description").value;
		if(Description === '') Description = null;
		
		Quantity = document.getElementById("quantity").value;
		if(Quantity === '') Quantity = 0;
	}
	
	add = function() {
		//alert("Inside Add function");
		getData();
		//alert("creating a json object")
		var req = {
				table:"items",
				operation:"add",
				row:{
					id:Id,
					title:Title,
					description:Description,
					quantity:Quantity
				},
				token:0
		}
		//var Req = JSON.parse(JOSNObject);
		send(req);
	};
	
	edit = function() {
		//alert("Inside Edit function");
		getData();
		//alert("Creating a json object");
		var req = {
				table:"items",
				operation:"edit",
				row: {
					id:Id,
					title:Title,
					description:Description,
					quantity:Quantity
				},
				token:0
		}
		send(req);
	};
	
	deleteData = function() {
		//alert("Inside delete function");
		getData();
		//alert("Creating json object");
		var req = {
				table:"items",
				operation:"delete",
				row:{
					id:Id,
					title:Title,
					description:Description,
					quantity:Quantity
				},
				token:0
		}
		send(req);
	};
	
	getNext = function() {
		//alert("Inside GetNext function");
		//alert("Creating a json object");
		Token = document.getElementById("id").value;
		var req = {
				table:"items",
				operation:"getNext",
				row:{
					id:Id,
					title:Title,
					description:Description,
					quantity:Quantity
				},
				token:Token
		}
		send(req);
	};
	
	getPrevious = function() {
		//alert("Inside GetNext function");
		//alert("Creating a json object");
		Token = document.getElementById("id").value;
		var req = {
				table:"items",
				operation:"getPrevious",
				row:{
					id:Id,
					title:Title,
					description:Description,
					quantity:Quantity
				},
				token:Token
		}
		send(req);
	};
	
	send = function(req) {
		alert("Inside send");
		$.ajax({
			url: 'http://localhost:8080/fls1.1/AdminOps',
			type: 'get',
			data: {req : JSON.stringify(req)},
			contentType:"application/json",
			dataType:"json",
			
			success: function(response) {
				alert('Working');
				document.getElementById("Id").value = response.Id;
				document.getElementById("Code").value = response.Code;
				document.getElementById("Message").value = response.Message;
				//if(parseInt(response.Code) === 3 || parseInt(response.Code) === 4) Token = parseInt(response.Id);
				console.log(Token);
			},
		
			error: function() {
				alert('Not Working');
			}
		});
	};
	
</script>
</head>
<body>
<h1> ITEMS SERVICE FORM</h1>
	<form>
		Item Id			: <input type="text" name="id" id="id" ><br/><br/>
		Title       : <input type="text" name="title" id="title" ><br/><br/>
		Description : <input type="text" name="description" id="description" ><br/><br/>
		Quantity    : <input type="text" name="quantity" id="quantity" ><br/><br/>
		Lease Terms : <input type="text" name="leaseTerms" id="leaseTerms"><br/><br/>
		Lease Value : <input type="text" name="leaseValue" id="leaseValue"><br/><br/>
		<input type="button" value="Add" onclick="add()">
		<input type="button" value="Edit" onclick="edit()">
		<input type="button" value="Delete" onclick="deleteData()">
		<input type="button" value="Get Next" onclick="getNext()">
		<input type="button" value="Get Previous" onclick="getPrevious()"><br/><br/>
		
		<!--  <h1>CATEGORY SERVICE FORM</h1>
		Category Name : <input type="text" name="name1" id="name1" ><br/><br/>
		Description : <input type="text" name="description1" id="description1" ><br/><br/>
		Category Parent    : <input type="text" name="parent" id="parent" ><br/><br/>
		Category Child : <input type="text" name="child" id="child"><br/><br/>
		<input type="button" value="Add1" onclick="add1()">
		<input type="button" value="Edit1" onclick="edit1()">
		<input type="button" value="Delete1" onclick="deleteData1()">
		<input type="button" value="Get Next1" onclick="getNext1()">
		<input type="button" value="Get Previous1" onclick="getPrevious1()"><br/><br/>-->
		
		<h1>OUTPUT</h1>
		ID : <input type="text" name="Id" id="Id"><br/><br/>
		Code : <input type="text" name="code" id="Code"><br/><br/>
		Message : <input type="text" name="message" id="Message">
	</form>
</body>
</html>