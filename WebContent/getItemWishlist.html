<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Items Form</title>
<script type="text/javascript" src="js/jquery-1.7.min.js"></script>
<script type="text/javascript">
	var Token = 0;
	
	Next = function() {
		//alert("Inside GetNext function");
		//alert("Creating a json object");
		Token = document.getElementById("id").value;
		var req = {
				table:"items",
				operation:"BrowseN",
				row:{
					id: 0,
					title: null,
					description: null,
					category: null,
					userId: null,
					leaseValue: 0,
					leaseTerm: null,
					status: "Wished"
				},
				token:Token
		}
		send(req);
	};
	
	Previous = function() {
		//alert("Inside GetNext function");
		//alert("Creating a json object");
		Token = document.getElementById("id").value;
		var req = {
				table:"items",
				operation:"BrowseP",
				row:{
					id: 0,
					title: null,
					description: null,
					category: null,
					userId: null,
					leaseValue: 0,
					leaseTerm: null,
					status: "Wished"
				},
				token:Token
		}
		send(req);
	};
	
	send = function(req) {
		alert("Inside send");
		$.ajax({
			url: '/flsv2/GetItemWishlist',
			type: 'get',
			data: {req : JSON.stringify(req)},
			contentType:"application/json",
			dataType:"json",
			
			success: function(response) {
				alert('Working');
				document.getElementById("Id").value = response.Id;
				document.getElementById("Code").value = response.Code;
				
				if(parseInt(response.Code) === 53 || parseInt(response.Code) === 54) {
					obj = JSON.parse(response.Message);
					document.getElementById("itemId").value = obj.itemId;
					document.getElementById("title1").value = obj.title;
					document.getElementById("category1").value = obj.category;
					document.getElementById("description1").value = obj.description;
					document.getElementById("userId1").value = obj.userId;
					document.getElementById("leaseTerm").value = obj.leaseTerm;
					document.getElementById("leaseValue1").value = obj.leaseValue;
					document.getElementById("Status").value = obj.status;
				}
				else{
					document.getElementById("Message").value = response.Message
				}
			},
		
			error: function() {
				alert('Not Working');
			}
		});
	};
	
</script>
</head>
<body>
<h1> GET ITEM WISHLIST SERVICE FORM</h1>
	<form>
		Item Id			: <input type="text" name="id" id="id" ><br/><br/>
		<input type="button" value="Next" onclick="Next()">
		<input type="button" value="Previous" onclick="Previous()"><br/><br/>
		
		<h1>OUTPUT</h1>
		ID : <input type="text" name="Id" id="Id"><br/><br/>
		Code : <input type="text" name="code" id="Code"><br/><br/>
		Message : <input type="text" name="message" id="Message"><br/><br/>
		
		Item Id : <input type="text" name="itemId" id="itemId"><br/><br/>
		Title : <input type="text" name="title1" id="title1"><br/><br/>
		Category : <input type="text" name="category1" id="category1"><br/><br/>
		Description : <input type="text" name="description1" id="description1"><br/><br/>
		User ID : <input type="text" name="userId1" id="userId1"><br/><br/>
		Lease Terms : <input type="text" name="leaseTerm" id="leaseTerm"><br/><br/>
		Lease Value : <input type="text" name="leaseValue1" id="leaseValue1"><br/><br/>
		Status : <input type="text" name="Status" id="Status"><br/><br/>
	</form>
	
	<br/>
	<h3><A href="index.html">INDEX</A></h3>
</body>
</html>