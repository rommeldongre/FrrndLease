<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="google-signin-client_id" content="909447696017-ka0dc75ts261cua6d2ho5mvb7uuo9njc.apps.googleusercontent.com">
<!--	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<script src="http://connect.facebook.net/en_US/all.js"></script>
-->    
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Landing Page</title>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.11.3.min.js"></script>
    
	<!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/index.css" rel="stylesheet">
	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  
  <body onload="start()">
	<div id="main">	
		<nav class="navbar navbar-default" id="header">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar1">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>                        
					</button>
					<a class="navbar-brand">FriendLease</a>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar1">
					<ul class="nav navbar-nav navbar-right" id="navbar1right">
						<li id="loginoptionmenu"><a href="mylogin.html"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
						<li id="signupoptionmenu"><a href="mysignup.html"><span class="glyphicon glyphicon-user"></span> Signup</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<nav class="navbar navbar-inverse" id="subheader">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar2">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>                        
					</button>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar2">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="mypostings.html"><span class="glyphicon glyphicon-phone"></span> MyPostings </a></li>
						<li><a href="mywishlists.html"><span class="glyphicon glyphicon-heart-empty"></span> MyWishList </a></li>
						<li><a href="myincomingrequests.html"><span class="glyphicon glyphicon-inbox"></span> MyIncomingRequests </a></li>
						<li><a href="myleasedoutitems.html"><span class="glyphicon glyphicon-gift"></span> MyLeasedOutItems </a></li>
						<li><a href="myleasedinitems.html"><span class="glyphicon glyphicon-shopping-cart"></span> MyLeasedInItems </a></li>
						<li><a href="myfriendslist.html"><span class="glyphicon glyphicon-user"></span> MyFriends </a></li>
						<li id="logoutoptionmenu"><a href="#"><span class="glyphicon glyphicon-log-out"></span> Logout </a></li>
					</ul>
				</div>
			</div>
		</nav>	
		
		<div class="container-fluid">
			<div class="row">
				<div id="topcolleft" class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
					<div id="searchbox" class="input-group">
						<input id="wish_title" type="text" class="form-control" placeholder="Search for the item..."></input>
						<span class="input-group-btn">
							<button class="btn btn-default" type="submit" onclick="add_in_wishlist()" ><i class="glyphicon glyphicon-search"></i></button>
						</span>
					</div>
				</div>
				<div id="topcolright" class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
					<a href="mystore.html"><button onclick="storeCurrentFunction('storeYourStuff')" id="button_top_right" class="btn btn-default">StoreYourStuff</button></a>
				</div>
			</div>	
		</div>
	
		<br />
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="btn-group" id="categorybrowsing">
						<button id="electronicsbutton" class="btn btn-default" onclick="browseByCategory('Electronics')">Electronics</button>
						<button id="fashionbutton" class="btn btn-default" onclick="browseByCategory('Kids')">Kids</button>
						<button id="vehiclesbutton" class="btn btn-default" onclick="browseByCategory('Vacations')">Vacations</button>	
					</div>
				</div>
			</div>
		</div>
		<br />
		<div id="carouselObject">
			<div id="carousel-example-generic" class="carousel slide" data-pause="true" data-interval="5000000">	<!--data-interval= 5000 seconds-->	
				<div class="carousel-inner" role="listbox" id="carouselinner">
												
				</div>
				
				<a class="left carousel-control" href="#carousel-example-generic" role="button">				<!--data-slide="prev"-->
					<span class="glyphicon glyphicon-chevron-left" aria-hidden="true" onclick="loadPrevSlide()" id="leftcarouselbutton"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="right carousel-control" href="#carousel-example-generic" role="button">				<!--data-slide="next"-->
					<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" onclick="loadNextSlide()"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>
		<br />
		
		
		<!-- Button trigger modal -->
		<button id="modalTriggerButton" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
		  Launch demo modal
		</button>

		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Modal title</h4>
			  </div>
			  <div class="modal-body" id="modalMsg">
				
			  </div>
			  <div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" onclick="clearSearchBox()">Close</button>
			  </div>
			</div>
		  </div>
		</div>

		
		<nav class="navbar navbar-default navbar-fixed-bottom">
			<div class="container-fluid">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbarBottom">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>                        
				</button>
				<div class="collapse navbar-collapse" id="myNavbarBottom">
					<ul class="nav navbar-nav navbar-center">
						<li><a href="#"><span class="glyphicon glyphicon-th-large"></span> About</a></li>
						<li><a href="#"><span class="glyphicon glyphicon-pencil"></span> Blog</a></li>
						<li><a href="#"><span class="glyphicon glyphicon-road"></span> How It Works</a></li>
						<li><a href="#"><span class="glyphicon glyphicon-certificate"></span> Credits</a></li>
						<li><a href="#"><span class="glyphicon glyphicon-earphone"></span> Contact</a></li>
					</ul>
				</div>
			</div>
		</nav>
		
	</div>
	
	
	<script type="text/javascript">
		var counter, i, j, startingCarousel, carouselwidth, carouselheight, browsingCategory, imgheight, imgwidth, noOfImagesInCarousel, navigatingSide, span1, col1, row1, carouselinner, img1, item1, reasonForGetItem, userloggedin;
		
		function start(){
			$("#modalTriggerButton").hide();
			
			// I am using localStorage here in this file instead of the model file because multiple users will need to be logged in simultaneously at different devices
			userloggedin = localStorage.getItem("userloggedin");
			
			if(userloggedin == "" || userloggedin == null){
				userloggedin = "anonymous";
				localStorage.setItem("userloggedin","anonymous");	
			}
			
			if(userloggedin == "anonymous"){	//if logged in as anonymous then don't display subheader
				$('#subheader').hide();		 
			}else{							//else show the subheader, and hide login and signup buttons	
				$('#subheader').show();			
				$("#loginoptionmenu").hide();
				$("#signupoptionmenu").hide();
				
				//show hello "username"
				var navbar1right = document.getElementById("navbar1right");
				var li = document.createElement("li");
				li.innerHTML = "Hello "+userloggedin;
				navbar1right.appendChild(li);
				
			}
			
			startingCarousel = 0;
			navigatingSide = 'next';
			
			setBrowsingCategory('All');								//initially category is all, so all items will be browsed
			
			getScreenType();
			
			loadCarousel();				//called when page is loaded initially
		}
		
		$("#logoutoptionmenu").click(function(){					//when user logs out  
			localStorage.setItem("userloggedin", "anonymous");			//userloggedin-> anonymous
		
			location.reload();
		});
		
		
		$(window).resize(function(){		//called everytime screen is resized
			startingCarousel = 0;
			navigatingSide = 'next';
			getScreenType();
			
			loadCarousel();					
		});
		
		function getScreenType(){
			emptyCarousel();			//first empty carousel
			
			if($(window).width()>=991){			//desktop
				var searchbox = document.getElementById("topcolleft");				//for search box depending on different screen sizes
				searchbox.className = "col-md-10 col-sm-10 col-xs-10";
				
				var storeyourstuff = document.getElementById("topcolright");		//for storeYourStuff button depending on different screen sizes
				storeyourstuff.className = "col-md-2 col-sm-2 col-xs-2";
				
			}else if($(window).width()<=500){		//mobile
				var searchbox = document.getElementById("topcolleft");
				searchbox.className = "col-md-6 col-sm-6 col-xs-6";
				
				var storeyourstuff = document.getElementById("topcolright");
				storeyourstuff.className = "col-md-6 col-sm-6 col-xs-6";
				
			}else{									//tablet
				var searchbox = document.getElementById("topcolleft");
				searchbox.className = "col-md-9 col-sm-9 col-xs-9";
				
				var storeyourstuff = document.getElementById("topcolright");
				storeyourstuff.className = "col-md-3 col-sm-3 col-xs-3";
				
			}
		}
		
		function emptyCarousel(){					//empty the carousel i.e. when restarting the carousel from beginning
			$("#carouselinner").empty();
		}
		
		function browseByCategory(category){			//browse the items by category... called when some category button is pressed otherwise category is all
			var electronicsbutton = document.getElementById('electronicsbutton');
			var fashionbutton = document.getElementById('fashionbutton');
			var vehiclesbutton = document.getElementById('vehiclesbutton');
				
			if(category == 'Electronics'){
				electronicsbutton.className = "btn btn-success";
				fashionbutton.className = "btn btn-default";
				vehiclesbutton.className = "btn btn-default";
			}else if(category == 'Fashion'){
				electronicsbutton.className = "btn btn-default";
				fashionbutton.className = "btn btn-success";
				vehiclesbutton.className = "btn btn-default";
			}else if(category == 'Vehicles'){
				electronicsbutton.className = "btn btn-default";
				fashionbutton.className = "btn btn-default";
				vehiclesbutton.className = "btn btn-success";
			}else{
				electronicsbutton.className = "btn btn-default";
				fashionbutton.className = "btn btn-default";
				vehiclesbutton.className = "btn btn-default";
			}
			
			setBrowsingCategory(category);
			startingCarousel = 0;
			navigatingSide = 'next';
			getScreenType();
			
			loadCarousel();
		}
		
		function loadNextSlide(){							//called when right button of carousel is clicked
			navigatingSide = 'next';
			loadCarousel();
			
			$("#carousel-example-generic").carousel('next');				//load next slide	
		}
		function loadPrevSlide(){							//called when left button of carousel is clicked		
			navigatingSide = 'prev';
			loadCarousel();
			
			$("#carousel-example-generic").carousel('prev');				//load previous slide
		}
		
		function loadCarousel(){
			
			counter = 0;
			
			browsingCategory = getBrowsingCategory();
			
			carouselwidth = getCarouselWidth();						//getting carousel width and height for better look
			carouselheight = getCarouselHeight();
			
			carouselinner = document.getElementById("carouselinner");
			item1 = document.createElement("div");
			
			if(startingCarousel==0){
				itemNextId = 0;
				item1.className = "item active";
			}else{
				item1.className = "item";
			}
			
			row1 = document.createElement("div");
			row1.className = "row";

			getImg();				
			
		}
		
		function getImg(){			
			getNoOfImagesInCarousel();					//to get no of images to be shown in carousel based on different screen sizes
			
			reasonForGetItem = "carousel";				//we are calling getNextItem/getPrevItem for the Carousel
			
			if(counter < noOfImagesInCarousel){
				if(navigatingSide == 'next'){
					$("#leftcarouselbutton").show();
					getNextItem(itemNextId);
				}else if(navigatingSide == 'prev'){
					getPrevItem(itemNextId);
				}
			}
		}
		
		function getNoOfImagesInCarousel(){
			col1 = document.createElement("div");
			
			if($(window).width()>=991){
				noOfImagesInCarousel = 3;				//for desktops	
				col1.className = "col-md-4 col-sm-4 col-xs-4 col-lg-4";
				imgwidth = carouselwidth/3;
				imgheight = carouselheight;
			
			}else if($(window).width()<=500){
				noOfImagesInCarousel = 1;				//for mobiles
				col1.className = "col-md-12 col-sm-12 col-xs-12 col-lg-12";
				imgwidth = carouselwidth;
				imgheight = carouselheight;
				
			}else{
				noOfImagesInCarousel = 2;				//for tablets
				col1.className = "col-md-6 col-sm-6 col-xs-6 col-lg-6";
				imgwidth = carouselwidth/2;
				imgheight = carouselheight;
			}
		}
		
		function addItemToCarousel(){					//called from script_admin_v2.js
			//getNoOfImagesInCarousel();	
				
			if((itemObj.status == 'InStore') && ((browsingCategory == 'All') || (itemObj.category == browsingCategory))){
				
				span1 = document.createElement("span");
				span1.className = "items";
				
				var src = "images/table.jpg"; 				//get image related to object
				var img1 = document.createElement("img");
				img1.src = src;
				img1.id = itemObj.itemId;
				
				$(img1).css("width", imgwidth);
				$(img1).css("height", imgheight);
				
				var caption1 = document.createElement("div");
				caption1.className = "carousel-caption";
				caption1.id = itemObj.itemId;
				caption1.style.backgroundColor = "black";
				caption1.style.opacity = 0.4;
				
				
				var h3 = document.createElement("h3");
				h3.innerHTML =itemObj.title;
				h3.id = itemObj.itemId;
				var p = document.createElement("p");
				p.innerHTML = itemObj.description;
				p.id = itemObj.itemId;
				
				caption1.appendChild(h3);
				caption1.appendChild(p);
				span1.appendChild(img1);
				span1.appendChild(caption1);
				col1.appendChild(span1);
				row1.appendChild(col1);
				
				counter++;
						
			}
			
			if(counter >= noOfImagesInCarousel){
				item1.appendChild(row1);
				carouselinner.appendChild(item1);
				
				startingCarousel = 1;
			}
			
			getImg();
		}
		
		function disableLeftButton(){
			$("#leftcarouselbutton").hide();			//when beginning of DB is reached, get the last item
		}
		
	
		function add_in_wishlist(){				//when user types something in the search box and presses search button
			
			if($("#wish_title").val() == '' || $("#wish_title").val() == ' '){
				alert("Nothing entered");
				return;
			}
			
			var title = $("#wish_title").val();
			var userid = userloggedin;
			
			wishItemSetValues(title, null, null, userid, 0, null);
			
			wishItemDbCreate();
			
		}
		
		function confirmationIndex(msg){			//called from script_admin_v2.js
			var div = document.getElementById("modalMsg");
			div.innerHTML = msg;
			
			$("#modalTriggerButton").click();
		}
		
		function clearSearchBox(){		//called when close button in Modal is clicked			
			//clears textbox when data is submitted
			$("#wish_title").val("");
		}
		
		function getCarouselWidth(){
			carouselwidth = $('#carouselObject').width();
			return carouselwidth;
		}
		function getCarouselHeight(){
			carouselheight = $('#carouselObject').height();
			return carouselheight;
		}
		
		$(document).on("click",".items",function(event){		//when an item in carousel is clicked, then show details in mystore.html
			
			var k = event.target.id;
			storeItemToShow(k);
			k--;
			
			reasonForGetItem = 'viewItem';
			
			getNextItem(k);
							
		});
		
		function viewClickedItem(obj){
			//alert("obj.userId:"+obj.userId+" userloggedin:"+userloggedin);
			
			if((obj.userId == userloggedin) && (userloggedin != 'anonymous'))
				storeCurrentFunction("viewItemOwnerNoLease");
			else 
				storeCurrentFunction("viewItemUser");
			
			window.location.replace("mystore.html");
		}
		
	</script>
    
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/index.js"></script>
	<script type="text/javascript" src="js/script_admin_v2.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>